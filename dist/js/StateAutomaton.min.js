/*!
 * StateAutomatonJS - v0.0.1
 * @author Pierre-Luc BLOT
 * @created 13/11/15
 */
!function(t){var i={graphic:{defaultContext:null,antialiasing:!0,getContext:function(t,i){"undefined"==typeof i&&(i=!0);var e=t.getContext("2d");return this.antialiasing&&i?(e.imageSmoothingEnabled=!0,e.lineWidth=1):(e.translate(.5,.5),e.imageSmoothingEnabled=!0,e.lineWidth=.5),null===this.defaultContext&&(this.defaultContext=e),e},setDefaultContext:function(t){this.defaultContext=t}}};"undefined"==typeof t.stateAutomaton&&(t.stateAutomaton=i)}(window),function(t){"use strict";var i=function(t){this.start=t.start,this.end=t.end,this.start.getCoord().x==this.end.getCoord().x?this.angle=Math.PI/2:this.start.getCoord().y==this.end.getCoord().y?this.angle=0:this.angle=Math.atan((this.end.getCoord().y-this.start.getCoord().y)/(this.end.getCoord().x-this.start.getCoord().x))};i.prototype.getStartPoint=function(){return this.start},i.prototype.getEndPoint=function(){return this.end},i.prototype.draw=function(i){"undefined"==typeof i&&(i=t.stateAutomaton.graphic.defaultContext),i.beginPath(),i.moveTo(this.start.getCoord().x,this.start.getCoord().y),i.lineTo(this.end.getCoord().x,this.end.getCoord().y),i.stroke()},i.prototype.getAngle=function(){return this.angle},t.stateAutomaton.graphic.Line=i}(window),function(t){"use strict";var i=function(t){this.origin=t.origin,this.height=t.height,this.width=t.width,this.angle=t.angle};i.prototype.getOrigin=function(){return this.origin},i.prototype.getHeight=function(){return this.height},i.prototype.getWidth=function(){return this.width},i.prototype.draw=function(i){"undefined"==typeof i&&(i=t.stateAutomaton.graphic.defaultContext),i.beginPath();var e=Math.sqrt(this.height*this.height/4+this.width*this.width),o=Math.atan(this.height/(2*this.width)),n={x:this.origin.getCoord().x,y:this.origin.getCoord().y},r={x:this.origin.getCoord().x+e*Math.cos(this.angle-o),y:this.origin.getCoord().y+e*Math.sin(this.angle-o)},s={x:this.origin.getCoord().x+e*Math.cos(this.angle+o),y:this.origin.getCoord().y+e*Math.sin(this.angle+o)};i.moveTo(n.x,n.y),i.lineTo(r.x,r.y),i.lineTo(s.x,s.y),i.fill(),i.stroke()},t.stateAutomaton.graphic.HeadArrow=i}(window),function(t){"use strict";var i=function(t){this.start=t.start,this.end=t.end,this.line=new stateAutomaton.graphic.Line({start:this.start,end:this.end}),this.headArrow=new stateAutomaton.graphic.HeadArrow({origin:this.end,angle:this.line.getAngle()+Math.PI,height:7,width:7})};i.prototype.getStart=function(){return this.start},i.prototype.getEnd=function(){return this.end},i.prototype.draw=function(i){"undefined"==typeof i&&(i=t.stateAutomaton.graphic.defaultContext),this.line.draw(i),this.headArrow.draw(i)},t.stateAutomaton.graphic.Arrow=i}(window),function(t){"use strict";var i=function(t){this.x=t.coord.x,this.y=t.coord.y,this.name=t.name};i.prototype.getCoord=function(){return{x:this.x,y:this.y}},i.prototype.setCoord=function(t){this.x=t.x,this.y=t.y},i.prototype.draw=function(i){"undefined"==typeof i&&(i=t.stateAutomaton.graphic.defaultContext),i.beginPath(),i.moveTo(this.x-5,this.y),i.lineTo(this.x+5,this.y),i.moveTo(this.x,this.y-5),i.lineTo(this.x,this.y+5),i.lineWidth=1,i.stroke()},i.prototype.distance=function(t){return Math.sqrt((this.x-t.getCoord().x)*(this.x-t.getCoord().x)+(this.y-t.getCoord().y)*(this.y-t.getCoord().y))},t.stateAutomaton.graphic.Point=i}(window),function(t){"use strict";var i=function(t){this.center=t.center;var i=t.radius;"number"!=typeof t.radius&&(i=this.center.distance(t.point)),this.radius=i};i.prototype.getCenter=function(){return this.center},i.prototype.getRadius=function(){return this.radius},i.prototype.draw=function(i){"undefined"==typeof i&&(i=t.stateAutomaton.graphic.defaultContext),i.beginPath(),i.arc(this.center.getCoord().x,this.center.getCoord().y,this.radius,0,2*Math.PI,!0),i.stroke()},i.prototype.getPoint=function(t){return new stateAutomaton.graphic.Point({coord:{x:this.center.getCoord().x+this.radius*Math.cos(t),y:this.center.getCoord().y+this.radius*Math.sin(t)}})},t.stateAutomaton.graphic.Circle=i}(window);