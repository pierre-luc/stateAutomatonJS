<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>StateAutomatonJS</title>
    <style type="text/css">
        canvas{
            border: solid 1px #ddd;     
        }

    </style>
</head>
<body>
    <canvas id="graphic" width="700" height="700">Votre navigateur ne g√®re pas les canvas</canvas>
    <script type="text/javascript" src="../dist/js/StateAutomaton.js"></script>
    <script type="text/javascript">
        var sa = stateAutomaton;
        var graphic = document.getElementById('graphic');
        var ctx = sa.graphic.getContext( graphic );

        var grid = new sa.pattern.Grid({
            row: 10,
            col: 3,
            height: graphic.height,
            width: graphic.width
        });

        var matrix = grid.getMatrix();
        
        for( var col = 0; col < grid.getCol(); ++col ){
            for( var row = 0; row < grid.getRow(); ++row ){
                var cell = matrix[ col ][ row ];
                var center = cell.middle;
                //center.draw();
                //grid.drawCell( cell );
                var circle = new sa.graphic.Circle({
                    center: center,
                    radius: Math.min( grid.getSizeCell().width, grid.getSizeCell().height ) / 2 - 10
                });
                if ( Math.ceil( Math.random() * 2) == 1 ){
                    circle.draw();
                    var A = matrix[ Math.round( Math.random() * ( grid.getCol() - 1 ) ) ][ Math.round( Math.random() * ( grid.getRow() - 1 ) ) ].middle;


                    new sa.graphic.ArcArrow({
                        start: A,
                        end: circle.getCenter(),
                        height: 20 + Math.round( Math.random() * 90 ),
                        style: new stateAutomaton.graphic.Style({
                            lineStyle: 'dashed'
                        })
                    }).draw();
                }

            }
        }
        
        grid.extendCol( graphic );
        grid.extendCol( graphic );
        grid.extendRow( graphic );
        matrix = grid.getMatrix();
        
        for( var col = 0; col < grid.getCol(); ++col ){
            for( var row = 0; row < grid.getRow(); ++row ){
                var cell = matrix[ col ][ row ];
                var center = cell.middle;
                var circle = new sa.graphic.Circle({
                    center: center,
                    radius: Math.min( grid.getSizeCell().width, grid.getSizeCell().height ) / 2 - 10
                });
                if ( Math.ceil( Math.random() * 2) == 1 ){
                    circle.draw();
                    var A = matrix[ Math.round( Math.random() * ( grid.getCol() - 1 ) ) ][ Math.round( Math.random() * ( grid.getRow() - 1 ) ) ].middle;


                    new sa.graphic.ArcArrow({
                        start: A,
                        end: circle.getCenter(),
                        height: 20 + Math.round( Math.random() * 90 )
                    }).draw();
                }
                //center.draw();
                
            }
        }

    </script>
</body>
</html>